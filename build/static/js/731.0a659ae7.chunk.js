"use strict";(self.webpackChunkreact_project=self.webpackChunkreact_project||[]).push([[731],{953:(t,e,n)=>{n.d(e,{M9:()=>o,Vp:()=>s,Wv:()=>l,vS:()=>d,yo:()=>c});var a=n(7390),r=n(8147);const o=(t,e)=>i("/board/write/".concat(t),"POST",e),c=(t,e)=>i("/board/update/".concat(t),"PATCH",e);function i(t,e,n){return new Promise(((r,o)=>{(async()=>{try{const c=await(0,a.A)(t,e,n);if(201===c.status)return void r(c.data.data);o(c.data)}catch(c){console.error(c),o(c)}})()}))}const s=t=>(0,r.A)("/board/info/".concat(t)),d=(t,e)=>{var n;e=null!==(n=e)&&void 0!==n?n:{};let a=Object.entries(e).map((t=>{let[e,n]=t;return"".concat(e,"=").concat(n)})).join("&");a=a?"?".concat(a):a;const o="/board/list/".concat(t).concat(a);return(0,r.A)(o)},l=t=>(0,r.A)("/board/delete/".concat(t),"DELETE")},5303:(t,e,n)=>{n.d(e,{A:()=>r});var a=n(8147);function r(t){return(0,a.A)("/board/config/".concat(t))}},8230:(t,e,n)=>{n.d(e,{A:()=>v});var a=n(5043),r=n(3216),o=n(5475),c=n(4117),i=n(9136),s=n(1603),d=n(5303),l=n(982),u=n(7390);var f=n(7779),m=n(953),p=n(1246),g=n(579);const h=(0,i.Ay)((()=>Promise.all([n.e(184),n.e(4166),n.e(4597)]).then(n.bind(n,4597)))),x=(0,i.Ay)((()=>Promise.all([n.e(184),n.e(4166),n.e(1260)]).then(n.bind(n,1260)))),b=(0,i.Ay)((()=>Promise.all([n.e(184),n.e(4166),n.e(5642)]).then(n.bind(n,5642))));const w=t=>{let{setPageTitle:e}=t;const{bid:n,seq:i}=(0,r.g)(),[w]=(0,o.ok)(),{states:{isLogin:v,isAdmin:y,userInfo:A}}=(0,a.useContext)(f.Ay),j=w.get("rstrId"),k={gid:""+Date.now(),mode:"write",notice:!1,attachFiles:[],editorImages:[],poster:null===A||void 0===A?void 0:A.userName};(0,a.useEffect)((()=>{j&&(async()=>{try{const t=await(0,p.Vg)(j);I((e=>({...e,num1:j,restaurant:t})))}catch(t){console.error(t)}})()}),[j]);const[C,P]=(0,a.useState)(null),[S,E]=(0,a.useState)(!1),[T,I]=(0,a.useState)(k),[O,_]=(0,a.useState)({}),{t:B}=(0,c.Bd)(),D=(0,r.Zp)();(0,a.useEffect)((()=>{window.scrollTo(0,0),i&&(async()=>{try{E(!0);const t=await(0,m.Vp)(i);if(t.mode="update",delete t.guestPw,!t.editable)return void D(-1);if(t.num1){const e=await(0,p.Vg)(t.num1);t.restaurant=e}I(t),P(t.board),e("".concat(t.subject)),E(!1)}catch(t){console.error(t)}})()}),[i,e,D]),(0,a.useEffect)((()=>{!C&&n&&(async()=>{try{E(!0);const t=await(0,d.A)(n);P(t),e(t.bname),E(!1)}catch(t){console.error(t)}})()}),[n,e,C]);const F=(0,a.useCallback)((t=>{I({...T,[t.target.name]:t.target.value})}),[T]),M=(0,a.useCallback)((()=>{I((0,s.jM)((t=>{t.notice=!t.notice})))}),[]),V=(0,a.useCallback)(((t,e)=>{if(!t||0===t.length)return;const n=[],a=[],r=[];for(const o of t){const{location:t,fileUrl:e}=o;"editor"===t?(n.push(e),a.push(o)):r.push(o)}n.length>0&&e.execute("insertImage",{source:n}),I((0,s.jM)((t=>{t.attachFiles.push(...r),t.editorImages.push(...a)})))}),[]),q=(0,a.useCallback)((t=>{window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uaca0\uc2b5\ub2c8\uae4c?")&&(async()=>{try{await(t=>new Promise(((e,n)=>{(async()=>{try{const a=await(0,u.A)("/file/delete/".concat(t),"DELETE");if(200===a.status)return void e(a.data.data);n(a.data)}catch(a){n(a)}})()})))(t),I((0,s.jM)((e=>{e.attachFiles=e.attachFiles.filter((e=>e.seq!==t)),e.editorImages=e.editorImages.filter((e=>e.seq!==t))})))}catch(e){console.error(e)}})()}),[]),L=(0,a.useCallback)((t=>{t.preventDefault();const e={poster:B("\uc791\uc131\uc790\ub97c_\uc785\ub825\ud558\uc138\uc694."),subject:B("\uc81c\ubaa9\uc744_\uc785\ub825\ud558\uc138\uc694."),content:B("\ub0b4\uc6a9\uc744_\uc785\ub825\ud558\uc138\uc694.")};v||(e.guestPw=B("\ube44\ubc00\ubc88\ud638\ub97c_\uc785\ub825\ud558\uc138\uc694.")),y||I({...T,notice:!1});const n={};let a=!1;for(const[c,i]of Object.entries(e)){var r,o;if(null===(r=T[c])||void 0===r||!r.trim())n[c]=null!==(o=n[c])&&void 0!==o?o:[],n[c].push(i),a=!0}_(n),a||(async()=>{try{const{locationAfterWriting:t,bid:e}=C,n="update"===T.mode?await(0,m.yo)(i,T):await(0,m.M9)(e,T);let a="list"===t?"/board/list/".concat(e):"/board/view/".concat(n.seq);null!==T&&void 0!==T&&T.num1&&(a="/restaurant/info/".concat(T.num1)),D(a,{replace:!0})}catch(t){_(t.message)}})()}),[B,T,y,v,C,D,i]);if(S||!C)return(0,g.jsx)(l.A,{});const{skin:z}=C,U=function(t){switch(t){case"gallery":return x;case"review":return b;default:return h}}(z);return(0,g.jsx)(U,{board:C,form:T,onSubmit:L,onChange:F,onToggleNotice:M,errors:O,fileUploadCallback:V,fileDeleteCallback:q})},v=a.memo(w)},9515:(t,e,n)=>{n.r(e),n.d(e,{default:()=>l});var a=n(5043),r=n(9367),o=n(7841),c=n(2915),i=n(8230),s=n(579);const d=()=>{const[t,e]=(0,a.useState)("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.mg,{children:(0,s.jsx)("title",{children:t})}),(0,s.jsxs)(o.xG,{children:[(0,s.jsx)(c.O,{children:t}),(0,s.jsx)(i.A,{setPageTitle:e})]})]})},l=a.memo(d)},7841:(t,e,n)=>{n.d(e,{Bu:()=>p,Uz:()=>m,ZL:()=>g,xG:()=>f});var a,r,o,c,i,s=n(7528),d=n(197),l=n(9888);const{dark:u}=l.y,f=d.Ay.div(a||(a=(0,s.A)(["\n  max-width: 900px;\n  min-width: 700px;\n  padding: 25px 50px;\n  margin: 50px auto;\n"]))),m=d.Ay.div(r||(r=(0,s.A)(["\n  margin: 0 auto 50px;\n"]))),p=d.Ay.div(o||(o=(0,s.A)(["\n  max-width: 900px;\n  min-width: 700px;\n  box-shadow: 0 0 20px #c9c9c9;\n  padding: 25px 50px;\n  margin: 50px auto;\n  border-radius: 3px;\n"]))),g=d.Ay.div(c||(c=(0,s.A)(["\n  max-width: 900px;\n  min-width: 700px;\n  padding: 50px;\n  margin: 50px auto;\n  border-radius: 20px;\n  box-shadow: 2px 2px 5px ",";\n"])),u);d.Ay.div(i||(i=(0,s.A)(["\n  width: 500px;\n  margin: auto;\n"])))},982:(t,e,n)=>{n.d(e,{A:()=>u});var a=n(7528),r=n(5043);const o=n.p+"static/media/loading.4bce908dde1a6ad3c019.webp";var c,i=n(197),s=n(579);const d=i.Ay.div(c||(c=(0,a.A)(["\n  position: fixed;\n  top: calc(50% - 75px);\n  left: calc(50% - 75px);\n  width: 150px;\n  height: 150px;\n  z-index: 100;\n\n  img {\n    width: 100%;\n    height: 100%;\n    display: block;\n  }\n"]))),l=()=>(0,s.jsx)(d,{children:(0,s.jsx)("img",{src:o,alt:"loading"})}),u=r.memo(l)},2915:(t,e,n)=>{n.d(e,{O:()=>s});var a,r=n(7528),o=n(197),c=n(5559);const{extraBig:i}=c.A,s=o.Ay.h1(a||(a=(0,r.A)(["\n  font-size: ",";\n  font-weight: bold;\n  padding: 0 15px 15px;\n  margin: 0 0 20px;\n  line-height: 1;\n  text-align: center;\n"])),i)},1246:(t,e,n)=>{n.d(e,{RB:()=>s,Vg:()=>c,gR:()=>i,lZ:()=>o});var a=n(8147),r=n(953);const o=t=>{var e;t=null!==(e=t)&&void 0!==e?e:{};const n=[];for(const[a,o]of Object.entries(t))n.push("".concat(a,"=").concat(o));let r="/restaurant/list";return n.length>0&&(r+="?".concat(n.join("&"))),(0,a.A)(r)},c=t=>(0,a.A)("/restaurant/info/".concat(t)),i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(0,a.A)("/restaurant/wish?page=".concat(t,"&limit=10"))},s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,r.vS)("review",{page:e,num1:t})}},9888:(t,e,n)=>{n.d(e,{S:()=>r,y:()=>a});const a={primary:"#007bff",secondary:"#6c757d",success:"#28a745",danger:"#dc3545",warning:"#ffc107",info:"#17a2b8",light:"#f8f9fa",dark:"#515151",black:"#000",jmt:"#ff3d00",shadow:"#c9c9c9"},r={primary:[a.primary,"#fff",a.primary],secondary:[a.secondary,"#fff",a.secondary],success:[a.success,"#fff",a.success],danger:[a.danger,"#fff",a.danger],warning:[a.warning,"#212529","#212529"],info:[a.info,"#fff",a.info],light:[a.light,"#212529","#212529"],dark:[a.dark,"#fff",a.dark],jmt:[a.jmt,"#fff",a.jmt]}},5559:(t,e,n)=>{n.d(e,{A:()=>a});const a={small:"0.75rem",normal:"1rem",medium:"1.25rem",big:"1.5rem",extraBig:"2rem"}}}]);
//# sourceMappingURL=731.0a659ae7.chunk.js.map