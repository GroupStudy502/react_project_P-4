"use strict";(self.webpackChunkreact_project=self.webpackChunkreact_project||[]).push([[4597],{4597:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var o,l=t(7528),r=t(5043),d=t(7848),i=t(9969),a=t(197),s=t(4117),c=t(8444),u=t(2809),x=t(7779),h=t(184),p=t(947),g=t(6268),m=(t(3739),t(5127)),b=t(579);const A=a.Ay.form(o||(o=(0,l.A)(["\n  .ck-editor__editable {\n    height: 450px;\n  }\n  textarea {\n    width: 100%;\n    height: 350px;\n    border: 1px solid #d5d5d5;\n    resize: none;\n    padding: 15px;\n  }\n"]))),j=n=>{let{board:e,form:t,onSubmit:o,onToggleNotice:l,errors:a,fileUploadCallback:j,fileDeleteCallback:f,onChange:v,items:y}=n;const[w,k]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),{useEditor:_,useUploadImage:z,useUploadFile:H}=e,{t:E}=(0,s.Bd)(),{states:{isAdmin:F}}=(0,r.useContext)(x.Ay);(0,r.useEffect)((()=>(k(!0),()=>{k(!1)})),[]);const D=(0,r.useCallback)((n=>{C.execute("insertImage",{source:n})}),[C]);return(0,b.jsx)(A,{onSubmit:o,autoComplete:"off",children:(0,b.jsxs)("div",{className:"board",children:[F&&(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:E("\uacf5\uc9c0\uae00")}),(0,b.jsx)("dd",{children:(0,b.jsxs)("label",{onClick:l,children:[null!==t&&void 0!==t&&t.notice?(0,b.jsx)(h.Hcz,{}):(0,b.jsx)(h.$qz,{}),E("\uacf5\uc9c0\uae00\ub85c_\ub4f1\ub85d\ud558\uae30")]})})]}),(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:E("\uc81c\ubaa9")}),(0,b.jsxs)("dd",{children:[(0,b.jsx)(u.A,{type:"text",name:"subject",value:null===t||void 0===t?void 0:t.subject,onChange:v}),(null===a||void 0===a?void 0:a.subject)&&(0,b.jsx)(c.A,{color:"danger",messages:a.subject})]})]}),(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:E("\uc791\uc131\uc790")}),(0,b.jsxs)("dd",{children:[(0,b.jsx)(u.A,{type:"text",name:"poster",value:null===t||void 0===t?void 0:t.poster,onChange:v}),(null===a||void 0===a?void 0:a.poster)&&(0,b.jsx)(c.A,{color:"danger",messages:a.poster})]})]}),(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:E("\ub0b4\uc6a9")}),(0,b.jsxs)("dd",{children:[_?w&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.aF,{editor:i.aRV,config:{plugins:[i.yN4,i.uwK,i.J20,i.fzL,i._V3,i.H09],toolbar:["undo","redo","bold","italic"]},data:null===t||void 0===t?void 0:t.content,onReady:n=>S(n),onChange:(n,e)=>{v({target:{name:"content",value:e.getData()}})}}),C&&z&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.A,{gid:t.gid,location:"editor",imageOnly:!0,color:"primary",width:"120",callback:n=>j(n,C),children:E("\uc774\ubbf8\uc9c0_\uc5c5\ub85c\ub4dc")}),(0,b.jsx)(g.A,{files:null===t||void 0===t?void 0:t.editorImages,mode:"editor",insertImageCallback:D,fileDeleteCallback:f})]})]}):(0,b.jsx)("textarea",{name:"content",value:null===t||void 0===t?void 0:t.content,onChange:v}),(null===a||void 0===a?void 0:a.content)&&(0,b.jsx)(c.A,{color:"danger",messages:a.content})]})]}),H&&(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:E("\ud30c\uc77c\ucca8\ubd80")}),(0,b.jsxs)("dd",{children:[(0,b.jsx)(p.A,{gid:t.gid,location:"attach",width:"120",color:"primary",callback:j,children:E("\ud30c\uc77c\uc120\ud0dd")}),(0,b.jsx)(g.A,{files:null===t||void 0===t?void 0:t.attachFiles,mode:"attach",fileDeleteCallback:f})]})]}),(0,b.jsx)(m.xk,{type:"submit",children:E("update"===t.mode?"\uc218\uc815\ud558\uae30":"\uc791\uc131\ud558\uae30")})]})})},f=r.memo(j)},5127:(n,e,t)=>{t.d(e,{Vu:()=>z,e2:()=>E,oq:()=>F,vd:()=>H,wl:()=>S,xk:()=>_});var o,l,r,d,i,a,s,c,u,x,h,p,g,m,b=t(7528),A=t(197),j=t(9888),f=t(5559);const{big:v,medium:y,normal:w}=f.A,{jmt:k}=j.y,C=(0,A.AH)(o||(o=(0,b.A)(["\n  width: 100%;\n  border-radius: 3px;\n  cursor: pointer;\n"]))),S=A.Ay.button(l||(l=(0,b.A)(["\n  font-size: ",";\n  height: 30px;\n  ","\n\n  ","\n  ","\n"])),w,C,(n=>{let{color:e}=n;return j.S[e]&&(0,A.AH)(r||(r=(0,b.A)(["\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),j.S[e][0],j.S[e][1],j.S[e][2])}),(n=>{let{width:e}=n;return(0,A.AH)(d||(d=(0,b.A)(["\n    width: ","px;\n  "])),e)})),_=A.Ay.button(i||(i=(0,b.A)(["\n  font-size: ",";\n  height: 40px;\n  ","\n\n  ","\n"])),y,C,(n=>{let{color:e}=n;return j.S[e]&&(0,A.AH)(a||(a=(0,b.A)(["\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),j.S[e][0],j.S[e][1],j.S[e][2])})),z=A.Ay.button(s||(s=(0,b.A)(["\n  font-size: ",";\n  height: 45px;\n  ","\n\n  ","\n"])),v,C,(n=>{let{color:e}=n;return j.S[e]&&(0,A.AH)(c||(c=(0,b.A)(["\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),j.S[e][0],j.S[e][1],j.S[e][2])})),H=A.Ay.button(u||(u=(0,b.A)(["\n  font-size: ",";\n  height: 40px;\n  ","\n\n  border-radius: 3px;\n  cursor: pointer;\n\n    ","\n  ","\n"])),y,C,(n=>{let{color:e}=n;return j.S[e]&&(0,A.AH)(x||(x=(0,b.A)(["\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),j.S[e][0],j.S[e][1],j.S[e][2])}),(n=>{let{width:e}=n;return(0,A.AH)(h||(h=(0,b.A)(["\n    width: ","px;\n  "])),e)})),E=A.Ay.div(p||(p=(0,b.A)(["\n  display: flex;\n  width: ",";\n  margin: 20px auto;\n\n  button {\n    width: 0;\n    flex-grow: 1;\n  }\n\n  button + button {\n    margin-left: 5px;\n  }\n"])),(n=>{let{width:e}=n;return e?"".concat(e,"px"):"100%"})),F=(A.Ay.button(g||(g=(0,b.A)(["\n\n"]))),A.Ay.button(m||(m=(0,b.A)(["\n  font-size: ",";\n  width: 120px;\n  height: 40px;\n  background-color:","; \n  color: white;\n  border-color: white;\n  margin: 0 auto;\n  border-radius: 3px;\n  display: block;\n\n"])),y,k))},6268:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(5043),l=t(184),r=t(579);const d=n=>{let{files:e,mode:t,insertImageCallback:o,fileDeleteCallback:d}=n;return e&&e.length>0&&(0,r.jsx)("ul",{children:e.map((n=>{let{seq:e,fileName:i,fileDownloadUrl:a,fileUrl:s}=n;return(0,r.jsxs)("li",{children:[(0,r.jsx)("a",{href:a,children:i}),"editor"===t&&(0,r.jsx)(l.l1U,{onClick:()=>o(s)}),(0,r.jsx)(l.yyx,{onClick:()=>d(e)})]},e)}))})},i=o.memo(d)},947:(n,e,t)=>{t.d(e,{A:()=>c});var o=t(5043),l=t(7390),r=t(5127),d=t(8444),i=t(4117),a=t(579);const s=n=>{let{children:e,gid:t,location:s,color:c,imageOnly:u,single:x,done:h,callback:p,width:g,imageUrl:m}=n;const[b,A]=(0,o.useState)(""),{t:j}=(0,i.Bd)(),f=(0,o.useCallback)((()=>{const n=document.createElement("input");n.type="file",n.multiple=!Boolean(x),n.click();const e=n=>{const e=n.target.files;try{if(0===e.length)throw new Error(j("\ud30c\uc77c\uc744_\uc120\ud0dd\ud558\uc138\uc694."));if(u)for(const t of e)if(!t.type.includes("image/"))throw new Error(j("\uc774\ubbf8\uc9c0_\ud615\uc2dd\uc758_\ud30c\uc77c\ub9cc_\uc5c5\ub85c\ub4dc\ud558\uc138\uc694."));if(null===t||void 0===t||!t.trim())throw new Error(j("\ud544\uc218\ud56d\ubaa9(gid)_\ub204\ub77d"));const n=new FormData;n.append("gid",t.trim()),s&&n.append("location",s);for(const t of e)n.append("file",t);x&&n.append("single",Boolean(x)),u&&n.append("imageOnly",Boolean(u)),h&&n.append("done",Boolean(h)),(async()=>{try{const e=await(0,l.A)("/file/upload","POST",n);if(201===e.status&&e.data.success)return void("function"===typeof p&&p(e.data.data));e.data.message&&A(e.data.message)}catch(e){A(e.message),console.error(e)}})()}catch(o){A(o.message)}};n.removeEventListener("change",e),n.addEventListener("change",e)}),[x,t,s,u,j,p,h]);return(0,a.jsxs)(a.Fragment,{children:[m?(0,a.jsx)("img",{src:m,width:g,alt:"profile",onClick:f}):(0,a.jsx)(r.wl,{width:g,type:"button",color:c,onClick:f,children:e}),b&&(0,a.jsx)(d.A,{color:"danger",children:b})]})},c=o.memo(s)},2809:(n,e,t)=>{t.d(e,{A:()=>i});var o,l=t(7528),r=t(5043);const d=t(197).Ay.input(o||(o=(0,l.A)(["\n  border: 1px solid #d5d5d5;\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  border-radius: 3px;\n"]))),i=r.memo(d)},8444:(n,e,t)=>{t.d(e,{A:()=>p});var o,l,r=t(7528),d=t(5043),i=t(197),a=t(9888),s=t(5559),c=t(579);const{small:u}=s.A,x=i.Ay.div(o||(o=(0,r.A)(["\n  text-align: center;\n  padding: 7px 10px;\n  font-size: ",";\n  border-radius: 3px;\n  color: ",";\n\n  & + & {\n    margin-top: 5px;\n  }\n\n  ","\n"])),u,a.y.dark,(n=>{let{color:e}=n;return e&&(0,i.AH)(l||(l=(0,r.A)(["\n      color: ",";\n      box-shadow: 2px 2px 5px ",";\n    "])),a.y[e],a.y[e])})),h=n=>{let{messages:e,color:t,children:o}=n;return e=e||[],o&&e.push(o),(0,c.jsx)(c.Fragment,{children:e.map(((n,e)=>(0,c.jsx)(x,{color:t,children:n},e)))})},p=d.memo(h)}}]);
//# sourceMappingURL=4597.7c81f9a1.chunk.js.map