"use strict";(self.webpackChunkreact_project=self.webpackChunkreact_project||[]).push([[1260],{1260:(e,n,o)=>{o.r(n),o.d(n,{default:()=>f});var t,l=o(7528),r=o(5043),d=o(7848),i=o(9969),s=o(197),a=o(4117),c=o(8444),u=o(2809),x=o(7779),h=o(184),p=o(5127),g=o(947),m=o(6268),b=(o(3739),o(579));const A=s.Ay.form(t||(t=(0,l.A)(["\n  .ck-editor__editable {\n    height: 350px;\n  }\n  textarea {\n    width: 100%;\n    height: 350px;\n    border: 1px solid #d5d5d5;\n    resize: none;\n    padding: 15px;\n  }\n"]))),j=e=>{let{board:n,form:o,onSubmit:t,onToggleNotice:l,errors:s,fileUploadCallback:j,fileDeleteCallback:f,onChange:v}=e;const[w,y]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),{useEditor:S,useUploadImage:_,useUploadFile:z}=n,{t:H}=(0,a.Bd)(),{states:{isLogin:E,isAdmin:F}}=(0,r.useContext)(x.Ay);(0,r.useEffect)((()=>(y(!0),()=>{y(!1)})),[]);const D=(0,r.useCallback)((e=>{k.execute("insertImage",{source:e})}),[k]);return(0,b.jsxs)(A,{onSubmit:t,autoComplete:"off",children:[(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:H("\uc791\uc131\uc790")}),(0,b.jsxs)("dd",{children:[(0,b.jsx)(u.A,{type:"text",name:"poster",value:null===o||void 0===o?void 0:o.poster,onChange:v}),(null===s||void 0===s?void 0:s.poster)&&(0,b.jsx)(c.A,{color:"danger",messages:s.poster})]})]}),("write"===o.mode&&!E||"update"===o.mode&&!(null!==o&&void 0!==o&&o.member))&&(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:H("\ube44\ubc00\ubc88\ud638")}),(0,b.jsxs)("dd",{children:[(0,b.jsx)(u.A,{type:"password",name:"guestPw",value:null===o||void 0===o?void 0:o.guestPw,onChange:v}),(null===s||void 0===s?void 0:s.guestPw)&&(0,b.jsx)(c.A,{color:"danger",messages:s.guestPw})]})]}),F&&(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:H("\uacf5\uc9c0\uae00")}),(0,b.jsx)("dd",{children:(0,b.jsxs)("label",{onClick:l,children:[null!==o&&void 0!==o&&o.notice?(0,b.jsx)(h.Hcz,{}):(0,b.jsx)(h.$qz,{}),H("\uacf5\uc9c0\uae00\ub85c_\ub4f1\ub85d\ud558\uae30")]})})]}),(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:H("\uc81c\ubaa9")}),(0,b.jsxs)("dd",{children:[(0,b.jsx)(u.A,{type:"text",name:"subject",value:null===o||void 0===o?void 0:o.subject,onChange:v}),(null===s||void 0===s?void 0:s.subject)&&(0,b.jsx)(c.A,{color:"danger",messages:s.subject})]})]}),(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:H("\ub0b4\uc6a9")}),(0,b.jsxs)("dd",{children:[S?w&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.aF,{editor:i.aRV,config:{plugins:[i.yN4,i.uwK,i.J20,i.fzL,i._V3,i.H09],toolbar:["bold","italic","|","undo","redo","|","numberedList","bulletedList"]},data:null===o||void 0===o?void 0:o.content,onReady:e=>C(e),onChange:(e,n)=>{v({target:{name:"content",value:n.getData()}})}}),k&&_&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.A,{gid:o.gid,location:"editor",imageOnly:!0,color:"primary",width:"120",callback:e=>j(e,k),children:H("\uc774\ubbf8\uc9c0_\uc5c5\ub85c\ub4dc")}),(0,b.jsx)(m.A,{files:null===o||void 0===o?void 0:o.editorImages,mode:"editor",insertImageCallback:D,fileDeleteCallback:f})]})]}):(0,b.jsx)("textarea",{name:"content",value:null===o||void 0===o?void 0:o.content,onChange:v}),(null===s||void 0===s?void 0:s.content)&&(0,b.jsx)(c.A,{color:"danger",messages:s.content})]})]}),z&&(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{children:H("\ud30c\uc77c\ucca8\ubd80")}),(0,b.jsxs)("dd",{children:[(0,b.jsx)(g.A,{gid:o.gid,location:"attach",width:"120",color:"primary",callback:j,children:H("\ud30c\uc77c\uc120\ud0dd")}),(0,b.jsx)(m.A,{files:null===o||void 0===o?void 0:o.attachFiles,mode:"attach",fileDeleteCallback:f})]})]}),(0,b.jsx)(p.xk,{type:"submit",color:"info",children:H("update"===o.mode?"\uc218\uc815\ud558\uae30":"\uc791\uc131\ud558\uae30")})]})},f=r.memo(j)},5127:(e,n,o)=>{o.d(n,{Vu:()=>z,e2:()=>E,oq:()=>F,vd:()=>H,wl:()=>S,xk:()=>_});var t,l,r,d,i,s,a,c,u,x,h,p,g,m,b=o(7528),A=o(197),j=o(9888),f=o(5559);const{big:v,medium:w,normal:y}=f.A,{jmt:k}=j.y,C=(0,A.AH)(t||(t=(0,b.A)(["\n  width: 100%;\n  border-radius: 3px;\n  cursor: pointer;\n"]))),S=A.Ay.button(l||(l=(0,b.A)(["\n  font-size: ",";\n  height: 30px;\n  ","\n\n  ","\n  ","\n"])),y,C,(e=>{let{color:n}=e;return j.S[n]&&(0,A.AH)(r||(r=(0,b.A)(["\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),j.S[n][0],j.S[n][1],j.S[n][2])}),(e=>{let{width:n}=e;return(0,A.AH)(d||(d=(0,b.A)(["\n    width: ","px;\n  "])),n)})),_=A.Ay.button(i||(i=(0,b.A)(["\n  font-size: ",";\n  height: 40px;\n  ","\n\n  ","\n"])),w,C,(e=>{let{color:n}=e;return j.S[n]&&(0,A.AH)(s||(s=(0,b.A)(["\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),j.S[n][0],j.S[n][1],j.S[n][2])})),z=A.Ay.button(a||(a=(0,b.A)(["\n  font-size: ",";\n  height: 45px;\n  ","\n\n  ","\n"])),v,C,(e=>{let{color:n}=e;return j.S[n]&&(0,A.AH)(c||(c=(0,b.A)(["\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),j.S[n][0],j.S[n][1],j.S[n][2])})),H=A.Ay.button(u||(u=(0,b.A)(["\n  font-size: ",";\n  height: 40px;\n  ","\n\n  border-radius: 3px;\n  cursor: pointer;\n\n    ","\n  ","\n"])),w,C,(e=>{let{color:n}=e;return j.S[n]&&(0,A.AH)(x||(x=(0,b.A)(["\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),j.S[n][0],j.S[n][1],j.S[n][2])}),(e=>{let{width:n}=e;return(0,A.AH)(h||(h=(0,b.A)(["\n    width: ","px;\n  "])),n)})),E=A.Ay.div(p||(p=(0,b.A)(["\n  display: flex;\n  width: ",";\n  margin: 20px auto;\n\n  button {\n    width: 0;\n    flex-grow: 1;\n  }\n\n  button + button {\n    margin-left: 5px;\n  }\n"])),(e=>{let{width:n}=e;return n?"".concat(n,"px"):"100%"})),F=(A.Ay.button(g||(g=(0,b.A)(["\n\n"]))),A.Ay.button(m||(m=(0,b.A)(["\n  font-size: ",";\n  width: 120px;\n  height: 40px;\n  background-color:","; \n  color: white;\n  border-color: white;\n  margin: 0 auto;\n  border-radius: 3px;\n  display: block;\n\n"])),w,k))},6268:(e,n,o)=>{o.d(n,{A:()=>i});var t=o(5043),l=o(184),r=o(579);const d=e=>{let{files:n,mode:o,insertImageCallback:t,fileDeleteCallback:d}=e;return n&&n.length>0&&(0,r.jsx)("ul",{children:n.map((e=>{let{seq:n,fileName:i,fileDownloadUrl:s,fileUrl:a}=e;return(0,r.jsxs)("li",{children:[(0,r.jsx)("a",{href:s,children:i}),"editor"===o&&(0,r.jsx)(l.l1U,{onClick:()=>t(a)}),(0,r.jsx)(l.yyx,{onClick:()=>d(n)})]},n)}))})},i=t.memo(d)},947:(e,n,o)=>{o.d(n,{A:()=>c});var t=o(5043),l=o(7390),r=o(5127),d=o(8444),i=o(4117),s=o(579);const a=e=>{let{children:n,gid:o,location:a,color:c,imageOnly:u,single:x,done:h,callback:p,width:g,imageUrl:m}=e;const[b,A]=(0,t.useState)(""),{t:j}=(0,i.Bd)(),f=(0,t.useCallback)((()=>{const e=document.createElement("input");e.type="file",e.multiple=!Boolean(x),e.click();const n=e=>{const n=e.target.files;try{if(0===n.length)throw new Error(j("\ud30c\uc77c\uc744_\uc120\ud0dd\ud558\uc138\uc694."));if(u)for(const o of n)if(!o.type.includes("image/"))throw new Error(j("\uc774\ubbf8\uc9c0_\ud615\uc2dd\uc758_\ud30c\uc77c\ub9cc_\uc5c5\ub85c\ub4dc\ud558\uc138\uc694."));if(null===o||void 0===o||!o.trim())throw new Error(j("\ud544\uc218\ud56d\ubaa9(gid)_\ub204\ub77d"));const e=new FormData;e.append("gid",o.trim()),a&&e.append("location",a);for(const o of n)e.append("file",o);x&&e.append("single",Boolean(x)),u&&e.append("imageOnly",Boolean(u)),h&&e.append("done",Boolean(h)),(async()=>{try{const n=await(0,l.A)("/file/upload","POST",e);if(201===n.status&&n.data.success)return void("function"===typeof p&&p(n.data.data));n.data.message&&A(n.data.message)}catch(n){A(n.message),console.error(n)}})()}catch(t){A(t.message)}};e.removeEventListener("change",n),e.addEventListener("change",n)}),[x,o,a,u,j,p,h]);return(0,s.jsxs)(s.Fragment,{children:[m?(0,s.jsx)("img",{src:m,width:g,alt:"profile",onClick:f}):(0,s.jsx)(r.wl,{width:g,type:"button",color:c,onClick:f,children:n}),b&&(0,s.jsx)(d.A,{color:"danger",children:b})]})},c=t.memo(a)},2809:(e,n,o)=>{o.d(n,{A:()=>i});var t,l=o(7528),r=o(5043);const d=o(197).Ay.input(t||(t=(0,l.A)(["\n  border: 1px solid #d5d5d5;\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  border-radius: 3px;\n"]))),i=r.memo(d)},8444:(e,n,o)=>{o.d(n,{A:()=>p});var t,l,r=o(7528),d=o(5043),i=o(197),s=o(9888),a=o(5559),c=o(579);const{small:u}=a.A,x=i.Ay.div(t||(t=(0,r.A)(["\n  text-align: center;\n  padding: 7px 10px;\n  font-size: ",";\n  border-radius: 3px;\n  color: ",";\n\n  & + & {\n    margin-top: 5px;\n  }\n\n  ","\n"])),u,s.y.dark,(e=>{let{color:n}=e;return n&&(0,i.AH)(l||(l=(0,r.A)(["\n      color: ",";\n      box-shadow: 2px 2px 5px ",";\n    "])),s.y[n],s.y[n])})),h=e=>{let{messages:n,color:o,children:t}=e;return n=n||[],t&&n.push(t),(0,c.jsx)(c.Fragment,{children:n.map(((e,n)=>(0,c.jsx)(x,{color:o,children:e},n)))})},p=d.memo(h)}}]);
//# sourceMappingURL=1260.6f78066a.chunk.js.map