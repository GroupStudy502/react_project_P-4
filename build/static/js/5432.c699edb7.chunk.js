"use strict";(self.webpackChunkreact_project=self.webpackChunkreact_project||[]).push([[5432],{5432:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var o,s=n(5043),r=n(9367),a=n(4117),i=n(7841),c=n(2915),l=n(7528),d=n(197),u=n(5559),g=n(579);const m=d.Ay.div(o||(o=(0,l.A)(['\n  font-family: "NanumSquareB";\n  font-size: ',";\n"])),u.A.medium),f=()=>{const[e,t]=(0,s.useState)("");return(0,s.useEffect)((()=>{const e=new kakao.maps.services.Geocoder;navigator.geolocation.getCurrentPosition((n=>{const{latitude:o,longitude:s}=n.coords;e.coord2RegionCode(s,o,((e,n)=>{if(n===kakao.maps.services.Status.OK)for(const o of e)if("H"===o.region_type){t(o.address_name);break}}))}))}),[e]),e&&(0,g.jsx)(m,{children:e})},h=s.memo(f);var p,x=n(5475),k=n(1246),j=n(9310),v=n(1884),_=n(982),A=n(7797),S=n(5197);const y=d.Ay.div(p||(p=(0,l.A)(["\n  margin: 20px auto;\n"])));const b=()=>{const[e]=(0,x.ok)(),[t,n]=(0,s.useState)((()=>function(e){const t={};if(e.size>0)for(const[n,o]of e)t[n]=o;return t}(e))),[o,r]=(0,s.useState)([]),[a,i]=(0,s.useState)({}),[c,l]=(0,s.useState)(!1),[d,u]=(0,s.useState)([]),[m,f]=(0,s.useState)([]);(0,s.useEffect)((()=>{const e=new kakao.maps.services.Geocoder;navigator.geolocation.getCurrentPosition((t=>{const{latitude:o,longitude:s}=t.coords;u({lat:o,lng:s}),e.coord2RegionCode(s,o,((e,t)=>{if(t===kakao.maps.services.Status.OK)for(const o of e)if("H"===o.region_type){n((e=>({...e,sido:o.region_1depth_name,sigungu:o.region_2depth_name,dong:o.region_3depth_name})));break}}))}))}),[n,u]),(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.dong&&(async()=>{try{l(!0);const{items:e,pagination:n}=await(0,k.lZ)(t);if(r(e),i(n),l(!1),!e||0===(null===e||void 0===e?void 0:e.length))return;const o=e.filter((e=>e.rstrLa&&e.rstrLo&&e.rstrNm)).map((e=>({lat:e.rstrLa,lng:e.rstrLo,info:{content:'<a href="/restaurant/info/'.concat(e.rstrId,'" style="font-weight:bold">').concat(e.rstrNm,"</a>"),clickable:!0,removable:!0}})));f(o),o.length>0&&u({lat:o[0].lat,lng:o[0].lng})}catch(e){console.error(e)}})()}),[t]);const h=(0,s.useCallback)((e=>{n((t=>({...t,page:e})))}),[]);return c?(0,g.jsx)(_.A,{}):(0,g.jsxs)(g.Fragment,{children:[m&&m.length>0&&(0,g.jsx)(A.A,{currentLocation:!0,center:d,marker:m,markerImage:S,zoom:6}),(0,g.jsxs)(y,{children:[(0,g.jsx)(j.A,{items:o}),o.length>0&&(0,g.jsx)(v.A,{onClick:h,pagination:a})]})]})},C=s.memo(b);var w=n(7502),L=n(7196);const z=()=>{const{t:e}=(0,a.Bd)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.mg,{children:(0,g.jsx)("title",{children:e("\uc8fc\ubcc0_\uc2dd\ub2f9")})}),(0,g.jsxs)(i.xG,{children:[(0,g.jsx)(c.O,{children:e("\uc8fc\ubcc0_\uc2dd\ub2f9")}),(0,g.jsxs)(i.Bu,{children:[(0,g.jsx)(h,{}),(0,g.jsx)(C,{})]}),(0,g.jsx)(w.A,{children:(0,g.jsx)(L.mYn,{style:{width:"50px",height:"50px"}})})]})]})},B=s.memo(z)}}]);
//# sourceMappingURL=5432.c699edb7.chunk.js.map