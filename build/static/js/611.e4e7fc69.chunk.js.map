{"version":3,"file":"static/js/611.e4e7fc69.chunk.js","mappings":"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","sources":["board/apis/apiBoard.js","board/apis/apiConfig.js","board/containers/FormContainer.js","commons/libs/file/apiFile.js","board/pages/Update.js","commons/components/LayoutBox.js","commons/components/Loading.js","commons/components/TitleBox.js","restaurant/apis/apiInfo.js","styles/color.js","styles/fontSize.js"],"sourcesContent":["import apiRequest from '../../commons/libs/apiRequest';\r\nimport requestData from '../../commons/libs/requestData';\r\n\r\nexport const write = (bid, form) =>\r\n  saveProcess(`/board/write/${bid}`, 'POST', form);\r\n\r\nexport const update = (seq, form) =>\r\n  saveProcess(`/board/update/${seq}`, 'PATCH', form);\r\n\r\nfunction saveProcess(url, method, form) {\r\n  return new Promise((resolve, reject) => {\r\n    (async () => {\r\n      try {\r\n        const res = await apiRequest(url, method, form);\r\n        if (res.status === 201) {\r\n          resolve(res.data.data);\r\n          return;\r\n        }\r\n\r\n        reject(res.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n        reject(err);\r\n      }\r\n    })();\r\n  });\r\n}\r\n\r\n// 게시글 하나 조회\r\nexport const getInfo = (seq) => requestData(`/board/info/${seq}`);\r\n\r\n// 게시글 목록 조회\r\nexport const getList = (bid, search) => {\r\n  search = search ?? {};\r\n  let qs = Object.entries(search)\r\n    .map(([k, v]) => `${k}=${v}`)\r\n    .join('&');\r\n\r\n  qs = qs ? `?${qs}` : qs;\r\n\r\n  const url = `/board/list/${bid}${qs}`;\r\n\r\n  return requestData(url);\r\n};\r\n\r\nexport const deleteData = (seq) =>\r\n  requestData(`/board/delete/${seq}`, 'DELETE');","import requestData from '../../commons/libs/requestData';\r\n\r\nexport default function apiConfig(bid) {\r\n  return requestData(`/board/config/${bid}`);\r\n}","import React, { useState, useEffect, useCallback, useContext } from 'react';\r\nimport { useParams, useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport loadable from '@loadable/component';\r\nimport { produce } from 'immer';\r\nimport apiConfig from '../apis/apiConfig';\r\nimport Loading from '../../commons/components/Loading';\r\nimport { apiFileDelete } from '../../commons/libs/file/apiFile';\r\nimport UserInfoContext from '../../member/modules/UserInfoContext';\r\nimport { write, update, getInfo } from '../apis/apiBoard';\r\nimport { apiGet } from '../../restaurant/apis/apiInfo';\r\n\r\nconst DefaultForm = loadable(() => import('../components/skins/default/Form'));\r\nconst GalleryForm = loadable(() => import('../components/skins/gallery/Form'));\r\nconst ReviewForm = loadable(() => import('../components/skins/review/Form'));\r\n\r\nfunction skinRoute(skin) {\r\n  switch (skin) {\r\n    case 'gallery':\r\n      return GalleryForm;\r\n    case 'review':\r\n      return ReviewForm;\r\n    default:\r\n      return DefaultForm;\r\n  }\r\n}\r\n\r\nconst FormContainer = ({ setPageTitle }) => {\r\n  const { bid, seq } = useParams();\r\n  const [searchParams] = useSearchParams();\r\n\r\n  const {\r\n    states: { isLogin, isAdmin, userInfo },\r\n  } = useContext(UserInfoContext);\r\n\r\n  const rstrId = searchParams.get('rstrId');\r\n\r\n  const initialForm = {\r\n    gid: '' + Date.now(),\r\n    mode: 'write',\r\n    notice: false,\r\n    attachFiles: [],\r\n    editorImages: [],\r\n    poster: userInfo?.userName,\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!rstrId) {\r\n      return;\r\n    }\r\n\r\n    (async () => {\r\n      try {\r\n        const res = await apiGet(rstrId);\r\n        setForm((form) => ({ ...form, num1: rstrId, restaurant: res }));\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    })();\r\n  }, [rstrId]);\r\n\r\n  const [board, setBoard] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [form, setForm] = useState(initialForm);\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  /**\r\n   * 게시글 번호 seq로 유입되면 수정\r\n   *\r\n   */\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n\r\n    if (!seq) {\r\n      return;\r\n    }\r\n\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n\r\n        const res = await getInfo(seq);\r\n        res.mode = 'update';\r\n        delete res.guestPw;\r\n        if (!res.editable) {\r\n          navigate(-1);\r\n          return;\r\n        }\r\n\r\n        // 수정시 식당 정보가 있는 경우\r\n        if (res.num1) {\r\n          const restaurant = await apiGet(res.num1);\r\n          res.restaurant = restaurant;\r\n        }\r\n\r\n        setForm(res);\r\n        setBoard(res.board);\r\n        setPageTitle(`${res.subject}`);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    })();\r\n  }, [seq, setPageTitle, navigate]);\r\n\r\n  useEffect(() => {\r\n    if (board || !bid) {\r\n      return;\r\n    }\r\n\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n\r\n        const data = await apiConfig(bid);\r\n        setBoard(data); // 게시판 설정 조회\r\n        setPageTitle(data.bname); // 사이트 제목\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    })();\r\n  }, [bid, setPageTitle, board]);\r\n\r\n  const onChange = useCallback(\r\n    (e) => {\r\n      setForm({ ...form, [e.target.name]: e.target.value });\r\n    },\r\n    [form],\r\n  );\r\n\r\n  const onToggleNotice = useCallback(() => {\r\n    setForm(\r\n      produce((draft) => {\r\n        draft.notice = !draft.notice;\r\n      }),\r\n    );\r\n  }, []);\r\n\r\n  /* 파일 업로드 후속 처리 */\r\n  const fileUploadCallback = useCallback((files, editor) => {\r\n    if (!files || files.length === 0) return;\r\n\r\n    const imageUrls = [];\r\n    const _editorImages = [];\r\n    const _attachFiles = [];\r\n\r\n    for (const file of files) {\r\n      const { location, fileUrl } = file;\r\n\r\n      if (location === 'editor') {\r\n        imageUrls.push(fileUrl);\r\n        _editorImages.push(file);\r\n      } else {\r\n        _attachFiles.push(file);\r\n      }\r\n    }\r\n\r\n    // 에디터에 이미지 추가\r\n    if (imageUrls.length > 0) {\r\n      editor.execute('insertImage', { source: imageUrls });\r\n    }\r\n\r\n    setForm(\r\n      produce((draft) => {\r\n        draft.attachFiles.push(..._attachFiles);\r\n        draft.editorImages.push(..._editorImages);\r\n      }),\r\n    );\r\n  }, []);\r\n\r\n  /* 파일 삭제 처리 */\r\n  const fileDeleteCallback = useCallback((seq) => {\r\n    if (!window.confirm('정말 삭제하겠습니까?')) {\r\n      return;\r\n    }\r\n\r\n    (async () => {\r\n      try {\r\n        await apiFileDelete(seq);\r\n\r\n        setForm(\r\n          produce((draft) => {\r\n            draft.attachFiles = draft.attachFiles.filter(\r\n              (file) => file.seq !== seq,\r\n            );\r\n\r\n            draft.editorImages = draft.editorImages.filter(\r\n              (file) => file.seq !== seq,\r\n            );\r\n          }),\r\n        );\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const onSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n\r\n      /* 유효성 검사 - 필수 항목 검증 S */\r\n      const requiredFields = {\r\n        poster: t('작성자를_입력하세요.'),\r\n        subject: t('제목을_입력하세요.'),\r\n        content: t('내용을_입력하세요.'),\r\n      };\r\n\r\n      if (!isLogin) {\r\n        // 비회원인 경우\r\n        requiredFields.guestPw = t('비밀번호를_입력하세요.');\r\n      }\r\n\r\n      if (!isAdmin) {\r\n        // 관리자가 아니면 공지글 작성 X\r\n        setForm({ ...form, notice: false });\r\n      }\r\n\r\n      const _errors = {};\r\n      let hasErrors = false;\r\n      for (const [field, message] of Object.entries(requiredFields)) {\r\n        if (!form[field]?.trim()) {\r\n          _errors[field] = _errors[field] ?? [];\r\n          _errors[field].push(message);\r\n          hasErrors = true;\r\n        }\r\n      }\r\n      /* 유효성 검사 - 필수 항목 검증 E */\r\n\r\n      // 검증 실패시에는 처리 X\r\n      setErrors(_errors);\r\n      if (hasErrors) {\r\n        return;\r\n      }\r\n\r\n      /* 데이터 저장 처리 S */\r\n      (async () => {\r\n        try {\r\n          const { locationAfterWriting, bid } = board;\r\n          const res =\r\n            form.mode === 'update'\r\n              ? await update(seq, form)\r\n              : await write(bid, form);\r\n\r\n          let url =\r\n            locationAfterWriting === 'list'\r\n              ? `/board/list/${bid}`\r\n              : `/board/view/${res.seq}`;\r\n\r\n          if (form?.num1) {\r\n            // 식당 후기\r\n            url = `/restaurant/info/${form.num1}`;\r\n          }\r\n\r\n          navigate(url, { replace: true });\r\n        } catch (err) {\r\n          setErrors(err.message);\r\n        }\r\n      })();\r\n\r\n      /* 데이터 저장 처리 E */\r\n    },\r\n    [t, form, isAdmin, isLogin, board, navigate, seq],\r\n  );\r\n\r\n  if (loading || !board) {\r\n    return <Loading />;\r\n  }\r\n\r\n  const { skin } = board;\r\n  const Form = skinRoute(skin);\r\n  return (\r\n    <Form\r\n      board={board}\r\n      form={form}\r\n      onSubmit={onSubmit}\r\n      onChange={onChange}\r\n      onToggleNotice={onToggleNotice}\r\n      errors={errors}\r\n      fileUploadCallback={fileUploadCallback}\r\n      fileDeleteCallback={fileDeleteCallback}\r\n    />\r\n  );\r\n  /*\r\n  return skinRoute(skin, {\r\n    board,\r\n    form,\r\n    onSubmit,\r\n    onChange,\r\n    onToggleNotice,\r\n    errors,\r\n    fileUploadCallback,\r\n    fileDeleteCallback,\r\n  });\r\n  */\r\n};\r\n\r\nexport default React.memo(FormContainer);\r\n","import apiRequest from '../apiRequest';\r\n\r\nexport const apiFileDelete = (seq) =>\r\n  new Promise((resolve, reject) => {\r\n    (async () => {\r\n      try {\r\n        const res = await apiRequest(`/file/delete/${seq}`, 'DELETE');\r\n        if (res.status === 200) {\r\n          resolve(res.data.data);\r\n          return;\r\n        }\r\n\r\n        reject(res.data);\r\n      } catch (err) {\r\n        reject(err);\r\n      }\r\n    })();\r\n  });","import React, { useState } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { OuterBox } from '../../commons/components/LayoutBox';\r\nimport { MainTitle } from '../../commons/components/TitleBox';\r\nimport FormContainer from '../containers/FormContainer';\r\n\r\nconst Update = () => {\r\n  const [pageTitle, setPageTitle] = useState('');\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{pageTitle}</title>\r\n      </Helmet>\r\n      <OuterBox>\r\n        <MainTitle>{pageTitle}</MainTitle>\r\n        <FormContainer setPageTitle={setPageTitle} />\r\n      </OuterBox>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(Update);","import styled from 'styled-components';\r\nimport { color } from '../../styles/color';\r\nconst { dark } = color;\r\n\r\nexport const OuterBox = styled.div`\r\n  max-width: 900px;\r\n  min-width: 700px;\r\n  padding: 25px 50px;\r\n  margin: 50px auto;\r\n`;\r\n\r\nexport const MainOuterBox = styled.div`\r\n  margin: 0 auto 50px;\r\n`;\r\n\r\nexport const ListOuterBox = styled.div`\r\n  max-width: 900px;\r\n  min-width: 700px;\r\n  box-shadow: 0 0 20px #c9c9c9;\r\n  padding: 25px 50px;\r\n  margin: 50px auto;\r\n  border-radius: 3px;\r\n`;\r\n\r\nexport const ChatOuterBox = styled.div`\r\n  max-width: 900px;\r\n  min-width: 700px;\r\n  padding: 50px;\r\n  margin: 50px auto;\r\n  border-radius: 20px;\r\n  box-shadow: 2px 2px 5px ${dark};\r\n`;\r\n\r\nexport const OuterChat = styled.div`\r\n  width: 500px;\r\n  margin: auto;\r\n`;","import React from 'react';\r\nimport image from '../../images/loading.webp';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  top: calc(50% - 75px);\r\n  left: calc(50% - 75px);\r\n  width: 150px;\r\n  height: 150px;\r\n  z-index: 100;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <Wrapper>\r\n      <img src={image} alt=\"loading\" />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(Loading);","import styled from 'styled-components';\r\nimport fontSize from '../../styles/fontSize';\r\n\r\nconst { extraBig } = fontSize;\r\n\r\nexport const MainTitle = styled.h1`\r\n  font-size: ${extraBig};\r\n  font-weight: bold;\r\n  padding: 0 15px 15px;\r\n  margin: 0 0 20px;\r\n  line-height: 1;\r\n  text-align: center;\r\n`;\r\n","import requestData from '../../commons/libs/requestData';\r\nimport { getList } from '../../board/apis/apiBoard';\r\n\r\n// 목록 조회\r\nexport const apiList = (search) => {\r\n  search = search ?? {};\r\n\r\n  const qs = [];\r\n  for (const [k, v] of Object.entries(search)) {\r\n    qs.push(`${k}=${v}`);\r\n  }\r\n\r\n  let url = '/restaurant/list';\r\n  if (qs.length > 0) url += `?${qs.join('&')}`;\r\n\r\n  return requestData(url);\r\n};\r\n\r\n// 상세 조회\r\nexport const apiGet = (rstrId) => requestData(`/restaurant/info/${rstrId}`);\r\n\r\nexport const apiWishlist = (page = 1) => requestData(`/restaurant/wish?page=${page}&limit=10`);\r\n\r\n// 식당 후기 조회\r\nexport const apiReview = (rstrId, page = 1) => {\r\n  return getList('review', { page, num1: rstrId });\r\n};\r\n","export const color = {\r\n  primary: '#007bff',\r\n  secondary: '#6c757d',\r\n  success: '#28a745',\r\n  danger: '#dc3545',\r\n  warning: '#ffc107',\r\n  info: '#17a2b8',\r\n  light: '#f8f9fa',\r\n  dark: '#515151',\r\n  black: '#000',\r\n  jmt: '#ff3d00',\r\n  shadow: '#c9c9c9',\r\n};\r\n\r\nexport const buttonColor = {\r\n  primary: [color.primary, '#fff', color.primary],\r\n  secondary: [color.secondary, '#fff', color.secondary],\r\n  success: [color.success, '#fff', color.success],\r\n  danger: [color.danger, '#fff', color.danger],\r\n  warning: [color.warning, '#212529', '#212529'],\r\n  info: [color.info, '#fff', color.info],\r\n  light: [color.light, '#212529', '#212529'],\r\n  dark: [color.dark, '#fff', color.dark],\r\n  jmt: [color.jmt, '#fff', color.jmt],\r\n};\r\n","const fontSize = {\r\n  small: '0.75rem',\r\n  normal: '1rem',\r\n  medium: '1.25rem',\r\n  big: '1.5rem',\r\n  extraBig: '2rem',\r\n};\r\n\r\nexport default fontSize;\r\n"],"names":["write","bid","form","saveProcess","concat","update","seq","url","method","Promise","resolve","reject","res","apiRequest","status","data","err","console","error","getInfo","requestData","getList","search","_search","qs","Object","entries","map","_ref","k","v","join","deleteData","apiConfig","DefaultForm","loadable","GalleryForm","ReviewForm","FormContainer","setPageTitle","useParams","searchParams","useSearchParams","states","isLogin","isAdmin","userInfo","useContext","UserInfoContext","rstrId","get","initialForm","gid","Date","now","mode","notice","attachFiles","editorImages","poster","userName","useEffect","apiGet","setForm","num1","restaurant","board","setBoard","useState","loading","setLoading","errors","setErrors","t","useTranslation","navigate","useNavigate","window","scrollTo","guestPw","editable","subject","bname","onChange","useCallback","e","target","name","value","onToggleNotice","produce","draft","fileUploadCallback","files","editor","length","imageUrls","_editorImages","_attachFiles","file","location","fileUrl","push","execute","source","fileDeleteCallback","confirm","apiFileDelete","filter","onSubmit","preventDefault","requiredFields","content","_errors","hasErrors","field","message","_form$field","_errors$field","trim","locationAfterWriting","replace","_jsx","Loading","skin","Form","skinRoute","React","Update","pageTitle","_jsxs","_Fragment","children","Helmet","OuterBox","MainTitle","dark","color","styled","div","_templateObject","_taggedTemplateLiteral","MainOuterBox","_templateObject2","ListOuterBox","_templateObject3","ChatOuterBox","_templateObject4","_templateObject5","Wrapper","src","image","alt","extraBig","fontSize","h1","apiList","apiWishlist","page","arguments","undefined","apiReview","primary","secondary","success","danger","warning","info","light","black","jmt","shadow","buttonColor","small","normal","medium","big"],"sourceRoot":""}